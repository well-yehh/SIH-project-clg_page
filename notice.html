<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Notice Board</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #ffffff;
      --accent1: #7c3aed;
      --accent2: #06b6d4;
      --muted: #555;
    }
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100vh;font-family:Inter,system-ui,Arial; background:#ffffff; color:#222;
      display:flex;align-items:center;justify-content:center;padding:36px;
    }

    .frame{
      width:100%;max-width:1000px;border-radius:20px;padding:1px;
      background: linear-gradient(90deg,var(--accent1),var(--accent2));
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .panel{
      border-radius:18px;padding:28px;background:#fff;
      min-height:520px; display:flex;flex-direction:column;gap:20px;
    }

    .board{
      padding:18px;border-radius:12px;background:#fafafa;border:1px solid #e5e5e5;
      min-height:440px; display:flex;flex-direction:column;
    }
    .board-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .board-title{font-size:20px;font-weight:700}
    .muted{color:var(--muted);font-size:13px}

    .notices{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;align-content:start}
    .notice{
      background:#fff;padding:14px;border-radius:12px;border:1px solid #e5e5e5;box-shadow:0 2px 8px rgba(0,0,0,0.05);
      display:flex;flex-direction:column;gap:8px;min-height:120px;position:relative;overflow:hidden
    }
    .notice h3{margin:0;font-size:16px;color:#222}
    .notice .meta{font-size:12px;color:var(--muted)}
    .notice p{margin:6px 0 0; font-size:14px;color:#333}

    .empty{display:flex;align-items:center;justify-content:center;height:260px;border-radius:10px;border:2px dashed #ddd;color:var(--muted);font-size:15px}

    @media (max-width:600px){
      .panel{padding:16px}
      .notices{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="panel">
      <div class="board">
        <div class="board-header">
          <div>
            <div class="board-title">Notice Board</div>
            <div class="muted" id="count">0 notices</div>
          </div>
          <div class="muted">Last updated: <span id="lastUpdated">â€”</span></div>
        </div>

        <div id="noticesContainer" class="notices">
          <!-- notices will be injected here -->
        </div>

        <div id="emptyState" class="empty" style="margin-top:12px;">No notices available.</div>
      </div>
    </div>
  </div>

  <script>
    // student notice page reads from localStorage
const container = document.getElementById('noticesContainer');
const empty = document.getElementById('emptyState');
const countEl = document.getElementById('count');
const lastUpdated = document.getElementById('lastUpdated');

function renderNotices(){
  const notices = JSON.parse(localStorage.getItem('notices')) || [];
  container.innerHTML='';
  if(notices.length===0){
    empty.style.display='flex';
  } else {
    empty.style.display='none';
  }

  notices.slice().reverse().forEach(n=>{
    const el = document.createElement('div');
    el.className='notice';
    el.innerHTML=`
      <div>
        <h3>${escapeHtml(n.title)}</h3>
        <div class="meta">${escapeHtml(n.date)}</div>
      </div>
      <p>${escapeHtml(n.msg)}</p>
      ${n.img ? `<img src="${n.img}" alt="Notice Image">` : ''}
      <div class="meta">Created: ${new Date(n.created).toLocaleString()}</div>
    `;
    container.appendChild(el);
  });

  countEl.textContent = notices.length + (notices.length===1?' notice':' notices');
  lastUpdated.textContent = new Date().toLocaleString();
}

function escapeHtml(s){
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')
                  .replace(/"/g,'&quot;').replace(/'/g,'&#039;');
}

renderNotices();

  </script>
</body>
</html>