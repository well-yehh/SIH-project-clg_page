<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Schedule</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f0f9ff; padding:20px; }
    h1 { text-align:center; color:#2563eb; }
    .container { max-width:700px; margin:0 auto; background:#fff; padding:20px; border-radius:12px; box-shadow:0 3px 8px rgba(0,0,0,0.1);}
    label { display:block; margin-top:10px; font-weight:bold; }
    select { margin-top:5px; padding:10px; width:100%; border:1px solid #ccc; border-radius:8px; }
    .timetable { margin-top:20px; padding:15px; border:1px solid #ddd; border-radius:8px; background:#f9f9f9; }
    .timetable img { max-width:100%; border-radius:8px; }
  </style>
</head>
<body>
  <h1>ðŸ“… Student Schedule</h1>
  <div class="container">
    <label for="course">Select Course:</label>
    <select id="course">
      <option value="">-- Choose Course --</option>
      <option>B.Tech</option>
      <option>M.Tech</option>
      <option>BCA</option>
      <option>MCA</option>
    </select>

    <label for="section">Select Section:</label>
    <select id="section">
      <option value="">-- Choose Section --</option>
      <option>A</option>
      <option>B</option>
      <option>C</option>
    </select>

    <button onclick="loadSchedule()">Show Timetable</button>

    <div id="timetableDisplay"></div>
  </div>

  <script>
    let schedules=JSON.parse(localStorage.getItem("schedules") || "[]");

    function loadSchedule(){
      const course=document.getElementById("course").value;
      const section=document.getElementById("section").value;
      const timetable=schedules.find(s=>s.course===course && s.section===section);
      const display=document.getElementById("timetableDisplay");

      if(!timetable){
        display.innerHTML="<p style='color:red;'>No timetable found for selected course & section.</p>";
        return;
      }
      display.innerHTML=`
        <div class="timetable">
          <h3>${timetable.course} - Section ${timetable.section}</h3>
          ${timetable.file.includes("application/pdf") 
            ? `<a href="${timetable.file}" target="_blank">ðŸ“„ View PDF</a>` 
            : `<img src="${timetable.file}" alt="Timetable">`}
        </div>
      `;
    }
  </script>
</body>
</html>
